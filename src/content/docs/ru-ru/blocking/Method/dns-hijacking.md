---
title: Перехват DNS
description: 'Узнайте о перехвате DNS.'
posted: 2024-09-21T21:00:00.000Z
---
### Подмена DNS в интернет-цензуре
**Подмена DNS** — один из простых и недорогих методов ограничения доступа к веб-сайтам, который относительно легко обойти. Провайдер намеренно заменяет IP-адрес веб-сайта другим, чтобы пользователь не мог подключиться к реальному адресу и получить доступ к сайту.

Типичные ошибки, которые вы можете увидеть в браузере в случае перехвата DNS:
- **ERR_NAME_NOT_RESOLVED**: Указывает, что доменное имя не удалось сопоставить с IP-адресом.
- **ERR_DNS_TIMED_OUT**: Означает, что сервер DNS не отвечает или недоступен.
- (иногда) **Ошибка сертификата HTTPS**: Возникает, если перенаправленная страница не соответствует сертификату ожидаемого сайта.
- (иногда) **ERR_CONNECTION_REFUSED**: Означает, что пользователь был перенаправлен на недоступный или неработающий сервер.

В большинстве случаев IP-адрес изменяется таким образом, чтобы он указывал на страницу блокировки, размещенную провайдером, информируя пользователя о том, что доступ к сайту ограничен. Это делает перехват DNS относительно легко идентифицируемым по сравнению с другими методами цензуры, такими как глубокая проверка пакетов или блокировка IP.

Перехват DNS обычно нацелен на резолверы DNS, предоставляемые самим провайдером. Однако **подмена DNS**, более навязчивый подвид перехвата DNS, происходит, когда провайдер манипулирует DNS-ответами независимо от используемого резолвера, включая сторонние, такие как Google Public DNS или Cloudflare.

Этот метод блокировки можно обнаружить с помощью различных программ и сервисов для проверки цензуры, таких как:
>
 - [GlobalCheck](/balefire/ru-ru/censorship/services/globalcheck/)
 - [RIPE Atlas](/balefire/ru-ru/censorship/services/ripe-atlas/)
 - [OONI Probe](/balefire/ru-ru/censorship/toolkits/ooni/)

А также вручную:
>
 - Зайдите на [Google DNS](https://dns.google/)
 - Введите доменное имя сайта, к которому возникли проблемы с доступом.
 - Откройте "Командную строку" (Windows) / Терминал (Linux, macOS)
 - Введите команду `nslookup example.com`
 - Проверьте IP-адрес(а), которые возвращаются nslookup и сервисом dns.google

Интерпретация результатов:
>
 - Если IP-адреса отличаются, это может быть случай перехвата DNS.
 - Если при доступе к сайту вы видите страницу блокировки, попробуйте открыть IP-адрес, который вы получили с помощью команды `nslookup`, в браузере в формате `http://123.456.67.8`.
 - Если вы видите ту же страницу блокировки, это перехват DNS.

Решения для обхода:

Одно из следующих:
>
 - Измените настройки DNS для использования стороннего резолвера, например [Quad9](https://www.quad9.net/) или [другого](https://en.wikipedia.org/wiki/Public_recursive_name_server#Notable_public_DNS_service_operators)
 - Включите DNS-over-HTTPS в браузере или на устройстве.
 - Включите Private DNS на Android или Private Relay на iOS.

Регионы:
- Россия
- Казахстан
- Турция
- Иран
